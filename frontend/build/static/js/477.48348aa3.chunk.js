"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[477],{4477:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var n=r(5043),a=r(4268),s=r(8947),o=r(4458),l=r(2716),i=r(3216),u=r(579);const c=function(){const[e,t]=(0,n.useState)(""),[r,c]=(0,n.useState)(""),[d,h]=(0,n.useState)(null),[m,p]=(0,n.useState)(!1),[f,g]=(0,n.useState)(null),[v,x]=(0,n.useState)(null),{setCanFetch:b,setHomePosts:w,setHomeCurrentPage:y}=(0,l.j)(),j=(0,i.Zp)();return(0,u.jsxs)("div",{children:[(0,u.jsx)(o.A,{is_open:m,setIs_open:p,status:f}),(0,u.jsxs)("div",{className:"container-c",children:[(0,u.jsxs)("label",{className:"flex items-center justify-center w-60 h-14 cursor-pointer border-2 border-dashed border-gray-400 rounded-lg hover:border-blue-500 transition duration-300",children:[(0,u.jsx)("span",{className:"text-white",children:"Upload Image"}),(0,u.jsx)("input",{type:"file",className:"hidden",onChange:e=>{h(e.target.files[0]),x(URL.createObjectURL(e.target.files[0]))}})]}),(0,u.jsx)("button",{onClick:async function(){const t=new FormData;t.append("title",e),t.append("body",r),d&&t.append("image",d);let n=await(0,s.Z)("http://localhost:8000/api/create_post","POST",t,!0);n.error?g({error:!0,message:n.message}):(g({error:!1,message:n.data.message}),w([]),y(1),b(!0),j("/")),p(!0)},className:"bg-green flex ml-auto mb-5",children:"Publish"}),(0,u.jsx)("div",{children:(0,u.jsx)(a.A,{value:e,onChange:e=>t(e.target.value),placeholder:"Title",className:"w-[600px] h-[100px] text-4xl mb-[30px] pb-[20px] "})}),(0,u.jsx)("div",{className:"flex justify-center mb-8",children:v&&(0,u.jsx)("img",{className:"h-[500px] w-[100%] rounded object-cover",src:v,alt:"img"})}),(0,u.jsx)("div",{children:(0,u.jsx)(a.A,{value:r,onChange:e=>c(e.target.value),placeholder:"Tell Your Story",className:"w-[600px] mb-80 text-2xl"})})]})]})}},4268:(e,t,r)=>{r.d(t,{A:()=>m});var n=r(9379),a=r(45),s=r(5043),o=r(3462),l=r(3940),i=r(4440);var u=r(579);const c=["onChange","maxRows","minRows","style","value"];function d(e){return parseInt(e,10)||0}const h={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const m=s.forwardRef((function(e,t){const{onChange:r,maxRows:m,minRows:p=1,style:f,value:g}=e,v=(0,a.A)(e,c),{current:x}=s.useRef(null!=g),b=s.useRef(null),w=(0,o.A)(t,b),y=s.useRef(null),j=s.useRef(null),A=s.useCallback((()=>{const t=b.current,r=j.current;if(!t||!r)return;const n=(0,l.A)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const a=n.boxSizing,s=d(n.paddingBottom)+d(n.paddingTop),o=d(n.borderBottomWidth)+d(n.borderTopWidth),i=r.scrollHeight;r.value="x";const u=r.scrollHeight;let c=i;p&&(c=Math.max(Number(p)*u,c)),m&&(c=Math.min(Number(m)*u,c)),c=Math.max(c,u);return{outerHeightStyle:c+("border-box"===a?s+o:0),overflowing:Math.abs(c-i)<=1}}),[m,p,e.placeholder]),C=s.useCallback((()=>{const e=b.current,t=A();if(!e||!t||(function(e){for(const t in e)return!1;return!0}(r=t)||0===r.outerHeightStyle&&!r.overflowing))return;var r;const n=t.outerHeightStyle;y.current!==n&&(y.current=n,e.style.height="".concat(n,"px")),e.style.overflow=t.overflowing?"hidden":""}),[A]),R=s.useRef(-1);(0,i.A)((()=>{const e=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];clearTimeout(t),t=setTimeout((()=>{e.apply(this,a)}),r)}return n.clear=()=>{clearTimeout(t)},n}((()=>C())),t=null===b||void 0===b?void 0:b.current;if(!t)return;const r=(0,l.A)(t);let n;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(n=new ResizeObserver((()=>{n.unobserve(t),cancelAnimationFrame(R.current),C(),R.current=requestAnimationFrame((()=>{n.observe(t)}))})),n.observe(t)),()=>{e.clear(),cancelAnimationFrame(R.current),r.removeEventListener("resize",e),n&&n.disconnect()}}),[A,C]),(0,i.A)((()=>{C()}));return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("textarea",(0,n.A)({value:g,onChange:e=>{x||C(),r&&r(e)},ref:w,rows:p,style:f},v)),(0,u.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:j,tabIndex:-1,style:(0,n.A)((0,n.A)((0,n.A)({},h),f),{},{paddingTop:0,paddingBottom:0})})]})}))},3940:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(1668);function a(e){return(0,n.A)(e).defaultView||window}}}]);
//# sourceMappingURL=477.48348aa3.chunk.js.map