"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[737],{9464:(s,e,t)=>{t.d(e,{A:()=>p});var a=t(9379),i=(t(5043),t(3216)),n=t(5475),l=t(6662),c=t(1462),r=t(8947),d=(t(9592),t(579));var x=t(2716),o=t(8185);const h=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"flex items-center mb-[30px]",children:(0,d.jsx)(o.A,{variant:"rounded",width:230,height:40})}),[...Array(3)].map(((s,e)=>(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex gap-x-[10px] max-w-[680px] justify-between",children:[(0,d.jsxs)("div",{className:"w-[100%]",children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsxs)("div",{className:"flex mb-1 items-center gap-x-[6px]",children:[(0,d.jsx)(o.A,{variant:"circular",width:30,height:30}),(0,d.jsx)(o.A,{variant:"text",width:100,height:20})]}),(0,d.jsx)(o.A,{variant:"text",width:"80%",height:30})]}),(0,d.jsxs)("div",{className:"flex mb-[10px] gap-x-[20px] items-center",children:[(0,d.jsx)(o.A,{variant:"text",width:100,height:20}),(0,d.jsx)(o.A,{variant:"rectangular",width:20,height:20})]})]}),(0,d.jsx)("div",{children:(0,d.jsx)(o.A,{variant:"rectangular",width:150,height:140})})]}),(0,d.jsx)("div",{className:"h-[1px] w-[70%] bg-secondary mb-[25px]"})]},e)))]})};const m=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"flex items-center mb-[30px]",children:(0,d.jsx)(o.A,{variant:"rounded",width:230,height:40})}),[...Array(3)].map(((s,e)=>(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex gap-x-[10px] max-w-[680px] justify-between",children:[(0,d.jsxs)("div",{className:"w-[100%]",children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsxs)("div",{className:"flex mb-1 items-center gap-x-[6px]",children:[(0,d.jsx)(o.A,{variant:"circular",width:30,height:30}),(0,d.jsx)(o.A,{variant:"text",width:100,height:20})]}),(0,d.jsx)(o.A,{variant:"text",width:"80%",height:30})]}),(0,d.jsxs)("div",{className:"flex mb-[10px] gap-x-[20px] items-center",children:[(0,d.jsx)(o.A,{variant:"text",width:100,height:20}),(0,d.jsx)(o.A,{variant:"rectangular",width:20,height:20})]})]}),(0,d.jsx)("div",{children:(0,d.jsx)(o.A,{variant:"rectangular",width:150,height:140})})]}),(0,d.jsx)("div",{className:"h-[1px] w-[70%] bg-secondary mb-[25px]"})]},e)))]})};const p=function(s){let{posts:e=[],loading:t,pageTitle:o,type:p,setPosts:v}=s;const j=(0,i.zy)(),{setCanFetch:u}=(0,x.j)();function g(s){let{isSaved:e,onClick:t}=s;const a=e?c.L80:c.in_;return(0,d.jsx)(a,{onClick:t,className:"cursor-pointer z-20",style:{fontSize:"20px"}})}function f(s){var e,t,a,i;let{post:l}=s;return(0,d.jsxs)(n.N_,{to:"/user/".concat(null===l||void 0===l||null===(e=l.user)||void 0===e?void 0:e.id),className:"flex mb-3 items-center gap-x-[6px] z-20",children:[(null===l||void 0===l||null===(t=l.user)||void 0===t?void 0:t.avatar)&&(0,d.jsx)("img",{className:"w-[34px] rounded-full h-[34px] object-cover",src:null===l||void 0===l||null===(a=l.user)||void 0===a?void 0:a.avatar,alt:""}),(null===l||void 0===l||null===(i=l.user)||void 0===i?void 0:i.username)&&l.user.username]})}return(0,d.jsx)(d.Fragment,{children:t?(0,d.jsx)("div",{className:"container-c",children:"History"===o?(0,d.jsx)(h,{}):(0,d.jsx)(m,{})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h1",{className:"text-5xl mb-5 mt-5",children:o}),0!==e.length?e.map(((s,e)=>{let{id:t,title:i,created_at:c,image:x,is_saved:h}=s;return(0,d.jsxs)(n.N_,{state:{from:j.pathname},to:"/".concat(p,"/").concat(t),className:"mb-5 block",children:[(0,d.jsxs)("div",{className:"flex gap-x-[10px] max-w-[680px] justify-between break-all",children:[(0,d.jsxs)("div",{className:"w-[100%] flex flex-col justify-center gap-y-[12px]",children:[(0,d.jsxs)("div",{children:["History"!==o&&(0,d.jsx)(f,{post:{id:t,title:i,created_at:c,image:x,is_saved:h}}),(0,d.jsx)("h1",{className:"text-2xl font-bold",children:i})]}),(0,d.jsxs)("div",{className:"flex  mb-[10px] gap-x-[20px] items-center",children:[(0,l.B)(c),(0,d.jsx)("div",{className:"flex items-center gap-2 z-10",children:"Saved"!==o&&(0,d.jsx)(g,{isSaved:h,onClick:s=>async function(s,e){s.preventDefault(),s.stopPropagation();const t=e.id;v((s=>s.map((s=>s.id===t?(0,a.A)((0,a.A)({},s),{},{is_saved:!s.is_saved}):s))));try{await(0,r.Z)("http://localhost:8000/api/save_post/".concat(t),"POST"),u(!0)}catch(i){console.log("+_+_+",i)}}(s,{id:t,is_saved:h})})})]})]}),(0,d.jsx)("img",{src:"http://localhost:8000/storage/".concat(x),alt:"",className:"w-[150px] min-w-[150px] h-[140px] object-cover"})]}),(0,d.jsx)("div",{className:"h-[1px] w-[70%] bg-secondary  mb-[25px]"})]},e)})):(0,d.jsx)("h1",{children:"No Posts Found"})]})})}},8737:(s,e,t)=>{t.r(e),t.d(e,{default:()=>d});var a=t(5043),i=t(8947),n=t(9464),l=t(3216),c=t(2716),r=t(579);const d=function(){const{historyPosts:s,setHistoryPosts:e,loadHistoryPosts:t,setLoadHistoryPosts:d}=(0,c.j)(),[x,o]=(0,a.useState)(null),h=(0,l.zy)();return console.log(h),(0,a.useEffect)((()=>{!async function(){let s=await(0,i.Z)("http://localhost:8000/api/user_posts");s.error||(e(s.data.posts),o(s.data.likes_count)),d(!1)}()}),[]),(0,r.jsx)("div",{className:"container-c",children:(0,r.jsx)(n.A,{setPosts:e,loading:t,pageTitle:"History",posts:s,type:"edit"})})}}}]);
//# sourceMappingURL=737.8e7390bd.chunk.js.map